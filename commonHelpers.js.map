{"version":3,"file":"commonHelpers.js","sources":["../src/js/index.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.search-form');\nconst list = document.querySelector('.pictures-list');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery-card a.gallary-card-link', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    \n    const searchImg = e.target.elements.input.value;\n    \n    if (searchImg.trim('') === '') {\n        return;\n    }\n\n    loader.style.display = 'flex';\n\n    if (lightbox) {\n        lightbox.close();\n        list.innerHTML = '';\n    }\n\n    setTimeout(() => {\n        getImg(searchImg)\n            .then(data => {\n                render(data.hits);\n                lightbox.refresh();\n                if (data.hits.length === 0) {\n                    iziToast.error({\n                        message: 'Sorry, there are no images matching your search query. Please try again!',\n                        position: 'topRight',\n                        backgroundColor: 'red',\n                        messageColor: 'white',\n                    })\n                }\n            })\n            .catch(error => {\n                console.error('Помилка отримання зображень:', error);\n            })\n            .finally(() => {\n                loader.style.display = 'none';\n            });\n    }, 500);\n    \n    e.target.reset();\n});\n\nfunction getImg(searchImg) {\n    const API_KEY = '42193842-675e74ed987999787d4b57f5e';\n    const URL = 'https://pixabay.com/api/';\n    const PARAMS = new URLSearchParams({\n        key: API_KEY,\n        q: searchImg,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`${URL}?${PARAMS}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n}\n\nfunction render(imgs) {\n    const markup = imgs.map((img) => {\n        return `<li class=\"gallery-card\">\n    <a class=\"gallary-card-link\" href=\"${img.largeImageURL}\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n    <ul class=\"image-info\">\n            <li class=\"image-item-info\">\n            <p>Likes</p>\n            <p>${img.likes}</p>\n        </li>\n        <li class=\"image-item-info\">\n            <p>Views</p>\n            <p>${img.views}</p>\n        </li>\n        <li class=\"image-item-info\">\n            <p>Comments</p>\n            <p>${img.comments}</p>\n        </li>\n        <li class=\"image-item-info\">\n            <p>Downloads</p>\n            <p>${img.downloads}</p>\n        </li>\n    </ul>\n    </a>\n</li>`;\n    }).join('');\n\n    list.insertAdjacentHTML('beforeend', markup);\n}\n\n\n"],"names":["form","list","loader","lightbox","SimpleLightbox","e","searchImg","getImg","data","render","iziToast","error","API_KEY","URL","PARAMS","response","imgs","markup","img"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,oCAAqC,CAC7D,aAAc,MACd,aAAc,GAC1B,CAAS,EAETJ,EAAK,iBAAiB,SAAWK,GAAM,CACnCA,EAAE,eAAc,EAEhB,MAAMC,EAAYD,EAAE,OAAO,SAAS,MAAM,MAEtCC,EAAU,KAAK,EAAE,IAAM,KAI3BJ,EAAO,MAAM,QAAU,OAEnBC,IACAA,EAAS,MAAK,EACdF,EAAK,UAAY,IAGrB,WAAW,IAAM,CACbM,EAAOD,CAAS,EACX,KAAKE,GAAQ,CACVC,EAAOD,EAAK,IAAI,EAChBL,EAAS,QAAO,EACZK,EAAK,KAAK,SAAW,GACrBE,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,gBAAiB,MACjB,aAAc,OACtC,CAAqB,CAErB,CAAa,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,+BAAgCA,CAAK,CACnE,CAAa,EACA,QAAQ,IAAM,CACXT,EAAO,MAAM,QAAU,MACvC,CAAa,CACR,EAAE,GAAG,EAENG,EAAE,OAAO,QACb,CAAC,EAED,SAASE,EAAOD,EAAW,CACvB,MAAMM,EAAU,qCACVC,EAAM,2BACNC,EAAS,IAAI,gBAAgB,CAC/B,IAAKF,EACL,EAAGN,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGO,KAAOC,GAAQ,EAC1B,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CAEA,SAASN,EAAOO,EAAM,CAClB,MAAMC,EAASD,EAAK,IAAKE,GACd;AAAA,yCAC0BA,EAAI;AAAA,oBACzBA,EAAI,sBAAsBA,EAAI;AAAA;AAAA;AAAA;AAAA,iBAIjCA,EAAI;AAAA;AAAA;AAAA;AAAA,iBAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,iBAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,iBAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,MAKhB,EAAE,KAAK,EAAE,EAEVjB,EAAK,mBAAmB,YAAagB,CAAM,CAC/C"}